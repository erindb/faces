<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Faces</title>
<meta name="viewport" content="initial-scale=1.0">
</head> 

<body>


<!-- Scripts -->
<script src="./raphael.js" type="text/javascript"></script>

<script>
function attr(obj, c) {
  obj.attr({"stroke":"black", "stroke-width":1, "fill":c});
}

var pieces = ["face", "mouth", "hair", "iris1", "iris2", "pupil1",
              "pupil2", "big reflect1", "big reflect2",
              "small reflect1", "small reflect2", "lashes1", "lashes2",
              "under eye1", "under eye2", "nose"];
var colors = {"lashes1":"black",
              "lashes2":"black",
              "under eye1":"black",
              "under eye2":"black",
              "pupil1":"black",
              "pupil2":"black",
              "face":"#ffccaa",
              "mouth":"white",
              "hair":"black",
              "iris1":"#803300",
              "iris2":"#803300",
              "big reflect1":"white",
              "big reflect2":"white",
              "small reflect1":"white",
              "small reflect2":"white",
              "nose":""};
var happy = {"lashes1":"m 104.21943,203.12643 c -3.28537,3.21322 -21.536704,-8.46387 -20.660695,-12.32616 1.953078,2.00144 19.757405,12.01781 22.282155,8.9233 -2.29572,0.51687 -17.087075,-7.98967 -15.031063,-10.80999 3.926768,3.57958 18.092923,10.2869 17.241033,7.18561 0.21334,0.0832 -10.562074,-5.39409 -9.516704,-7.80996 0.244019,0.88228 11.071524,5.75709 12.348484,4.2674 13.14903,-15.33962 25.65648,-10.62424 39.68169,-0.64769 -16.07041,-8.5159 -34.68796,-5.92099 -46.3449,11.21749 z",
              "lashes2":"m 233.26662,203.00493 c 3.33398,3.2126 21.85536,-8.46223 20.96639,-12.32376 -1.98198,2.00105 -20.04973,12.01546 -22.61184,8.92156 2.32968,0.51676 17.33989,-7.98811 15.25346,-10.80788 -3.98487,3.57887 -18.36062,10.2849 -17.49612,7.18421 -0.2165,0.0832 10.71834,-5.39305 9.65751,-7.80845 -0.24763,0.88211 -11.23535,5.75598 -12.53119,4.26657 -13.34359,-15.33664 -26.03609,-10.62217 -40.2688,-0.64756 16.30817,-8.51424 35.20118,-5.91984 47.03059,11.21531 z",
              "under eye1":"m 115.72683,219.70341 3.62562,4.86092 20.96555,-0.49857 c -6.5484,-0.38111 -19.21619,2.20399 -24.59117,-4.36235 z",
              "under eye2":"m 221.58896,219.57867 -3.67927,4.85997 -21.27574,-0.49845 c 6.64529,-0.38105 19.5005,2.20355 24.95501,-4.36152 z",
              "pupil1":"m 138.42637,201.50613 c 0,8.74219 -4.61088,15.82914 -11.27094,15.82914 -6.66008,0 -12.05914,-7.08695 -12.05914,-15.82914 0,-8.74219 5.39906,-15.82914 12.05914,-15.82914 6.66006,0 11.27094,7.08695 11.27094,15.82914 z",
              "pupil2":"m 198.55356,201.38494 c 0,8.74049 4.67911,15.82606 11.43772,15.82606 6.75861,0 12.23755,-7.08557 12.23755,-15.82606 0,-8.74049 -5.47894,-15.82605 -12.23755,-15.82605 -6.75861,0 -11.43772,7.08556 -11.43772,15.82605 z",
              "face":"m 268,214 c -6.65897,55.94803 -81.39219,88.20967 -101.5,87.5 C 146.39219,300.79033 76.926696,262.27371 72,214 64.897467,144.40657 107.28057,91.303875 169.5,90.999999 231.71943,90.696123 275.67426,149.52159 268,214 z",
              "mouth":"m 152,251.5 c 14.03396,1.56793 19.26755,0.5351 32,-0.5 0.67408,25.38762 -25.95379,29.88749 -32,0.5 z",
              "hair":"m 169,118 c -14.12435,12.20264 -24.08068,24.34997 -30.65726,51.30614 -3.31889,-20.15338 3.4291,-32.56199 12.01969,-39.74301 -14.36101,8.62782 -31.95383,32.24248 -35.85869,51.44149 0.0728,-13.45165 7.53838,-37.03658 20.31827,-48.10768 -23.03694,20.34202 -38.208069,29.34663 -38.920821,108.4994 C 89.786818,222.83926 85.688359,173.98918 113.94402,139.93865 51.996016,212.71334 113.35668,301.25834 113,305.5 c -2.02533,-0.79697 -9.21909,-6.69174 -11.51034,-5.08698 -1.60544,1.12443 2.74125,34.73959 1.0645,36.70695 -1.11787,1.31159 -12.746177,-44.72028 -13.877687,-43.13665 -1.227841,1.71844 6.040547,52.57288 4.814397,54.51088 C 91.780094,351.19809 82.079996,321.56462 80.415618,324.45135 71.399892,340.08839 71.43229,358.318 68.5,352.5 59.013924,333.67852 54.793855,235.28956 52.477804,214.05696 52.042291,210.06435 42.225543,230.01616 41.768705,225.99446 38.895638,200.70187 53.881262,164.37294 65.876218,142.48007 67.029443,140.37524 44.738214,142.37611 46,140.5 59.007266,121.15986 83.472059,103.5445 99.93194,90.857819 104.80056,87.157285 69.398026,91.987165 74.269,89.108297 88.06018,80.975034 152.23498,70.707052 166,70.499999 201.93833,69.959417 262.72526,96.285559 281,128.5 c -2.63947,-1.8681 -28.31614,-14.71287 -22.32269,-7.36538 17.59209,21.5665 44.46466,73.07579 40.04814,107.34534 -0.33607,4.60491 -14.8187,-18.35092 -15.40146,-13.93718 C 279.65086,242.36246 288,271.5 288,271.5 l 18.26797,56.46045 -27.21296,-23.95107 -3.74808,42.88671 -22.23955,-35.86302 -19.66135,23.35009 4.90027,-36.56595 L 232,304.5 c 10.20408,-43.79847 25.25321,-56.15504 26,-103.5 -5.01043,19.07776 -7.27033,37.6054 -18.42152,57.91131 14.74041,-67.48474 11.75134,-81.29782 -8.03578,-108.45957 2.77561,13.27177 -2.40549,22.56519 -4.39991,33.45194 0.28965,-25.23462 -6.91236,-37.26568 -14.68911,-50.3435 6.66767,15.70729 -1.54576,26.92808 -3.16586,36.71553 1.95259,-25.95776 -10.78875,-33.54809 -18.57506,-47.33221 8.6468,14.20244 6.69128,37.52535 -4.64539,55.72448 C 193.0698,147.31458 181.21348,132.50067 169,118 z",
              "iris1":"m 111.31304,194.77563 c -5.53964,5.84008 2.37152,25.94638 15.92119,26.2988 21.30072,0.55402 17.83096,-31.30356 10.40396,-33.65249 -16.88947,-2.58829 -13.08802,-1.36823 -26.32515,7.35369 z",
              "iris2":"m 226.06806,194.65575 c 5.6216,5.83895 -2.40662,25.94133 -16.15677,26.29368 -21.61587,0.55391 -18.09476,-31.29746 -10.55789,-33.64594 17.13937,-2.58779 13.28167,-1.36796 26.71466,7.35226 z",
          "big reflect1":"m 140.39557,200.89384 c 0,7.31777 -4.28948,13.25 -9.58081,13.25 -5.29133,0 -9.58081,-5.93223 -9.58081,-13.25 0,-7.31777 4.28948,-13.25 9.58081,-13.25 5.29133,0 9.58081,5.93223 9.58081,13.25 z",
          "big reflect2":"m 223.83417,200.18673 c 0,7.31777 -4.28948,13.25 -9.58081,13.25 -5.29133,0 -9.58081,-5.93223 -9.58081,-13.25 0,-7.31777 4.28948,-13.25 9.58081,-13.25 5.29133,0 9.58081,5.93223 9.58081,13.25 z",
              "small reflect1":"m 119.58422,209.09398 c 0,2.30539 -0.63444,2.94043 -1.82957,2.94043 -1.19511,0 -2.49835,-0.63504 -2.49835,-2.94043 0,-2.3054 0.96884,-3.1167 2.16396,-3.1167 1.19512,0 2.16396,0.8113 2.16396,3.1167 z",
              "small reflect2":"m 197.51853,209.46977 c 0,2.30495 0.64383,2.93986 1.85663,2.93986 1.2128,0 2.53533,-0.63491 2.53533,-2.93986 0,-2.30494 -0.98318,-3.11609 -2.19598,-3.11609 -1.2128,0 -2.19598,0.81115 -2.19598,3.11609 z",
          "nose":"m 164,208.5 c 1.93134,9.6495 1.92236,16.43892 -4,26.5 4.70452,2.97344 8.95711,2.019 11,1"};
var sad = {"lashes1":"m 107.48494,206.30568 c -2.56816,3.8109 -22.802852,-3.93655 -22.725504,-7.89618 2.317273,1.56541 21.778544,7.77676 23.625774,4.23585 -2.14402,0.96987 -18.34921,-4.37144 -16.905622,-7.54908 4.569183,2.71209 19.798582,6.41797 18.337492,3.55284 0.22575,0.0384 -11.434282,-3.14814 -10.898742,-5.72543 0.4173,0.81476 12.006582,3.40069 12.956122,1.68366 9.77749,-17.68055 22.97984,-15.59027 38.73192,-8.65415 -17.45988,-5.09227 -35.1688,1.21177 -43.12144,20.35249 z",
          "lashes2":"m 230.10807,206.05103 c 2.56816,3.8109 22.80285,-3.93655 22.72551,-7.89618 -2.31728,1.56541 -21.77855,7.77676 -23.62578,4.23585 2.14402,0.96987 18.34921,-4.37144 16.90562,-7.54908 -4.56918,2.71209 -19.79858,6.41797 -18.33749,3.55284 -0.22575,0.0384 11.43428,-3.14814 10.89874,-5.72543 -0.4173,0.81476 -12.00658,3.40069 -12.95612,1.68366 -9.77749,-17.68055 -22.97984,-15.59027 -38.73192,-8.65415 17.45988,-5.09227 35.1688,1.21177 43.12144,20.35249 z",
          "under eye1":"m 115.72683,219.70341 3.62562,4.86092 20.96555,-0.49857 c -6.5484,-0.38111 -19.21619,2.20399 -24.59117,-4.36235 z",
          "under eye2":"m 221.58896,219.57867 -3.67927,4.85997 -21.27574,-0.49845 c 6.64529,-0.38105 19.5005,2.20355 24.95501,-4.36152 z",
          "pupil1":"m 140.65852,197.80547 c 1.76683,8.56179 -1.31659,16.43436 -7.83922,17.78038 -6.52264,1.34603 -13.24258,-4.5035 -15.00941,-13.06529 -1.76683,-8.56178 2.08851,-16.59366 8.61115,-17.93969 6.52262,-1.34602 12.47065,4.66281 14.23748,13.2246 z",
          "pupil2":"m 196.93449,197.55082 c -1.76683,8.56179 1.31659,16.43436 7.83922,17.78038 6.52264,1.34603 13.24258,-4.5035 15.00941,-13.06529 1.76683,-8.56178 -2.08851,-16.59366 -8.61115,-17.93969 -6.52262,-1.34602 -12.47065,4.66281 -14.23748,13.2246 z",
          "face":"m 268,214 c -6.65897,55.94803 -81.39219,88.20967 -101.5,87.5 C 146.39219,300.79033 76.926696,262.27371 72,214 64.897467,144.40657 107.28057,91.303875 169.5,90.999999 231.71943,90.696123 275.67426,149.52159 268,214 z",
          "mouth":"m 152,265.5 c 5.10166,-9.72996 26.17639,-9.93017 32,-0.5 -6.73568,-1.9055 -26.74034,-1.77151 -32,0.5 z",
          "hair":"m 169,118 c -14.12435,12.20264 -24.08068,24.34997 -30.65726,51.30614 -3.31889,-20.15338 3.4291,-32.56199 12.01969,-39.74301 -14.36101,8.62782 -31.95383,32.24248 -35.85869,51.44149 0.0728,-13.45165 7.53838,-37.03658 20.31827,-48.10768 -23.03694,20.34202 -38.208069,29.34663 -38.920821,108.4994 C 89.786818,222.83926 85.688359,173.98918 113.94402,139.93865 51.996016,212.71334 113.35668,301.25834 113,305.5 c -2.02533,-0.79697 -9.21909,-6.69174 -11.51034,-5.08698 -1.60544,1.12443 2.74125,34.73959 1.0645,36.70695 -1.11787,1.31159 -12.746177,-44.72028 -13.877687,-43.13665 -1.227841,1.71844 6.040547,52.57288 4.814397,54.51088 C 91.780094,351.19809 82.079996,321.56462 80.415618,324.45135 71.399892,340.08839 71.43229,358.318 68.5,352.5 59.013924,333.67852 54.793855,235.28956 52.477804,214.05696 52.042291,210.06435 42.225543,230.01616 41.768705,225.99446 38.895638,200.70187 53.881262,164.37294 65.876218,142.48007 67.029443,140.37524 44.738214,142.37611 46,140.5 59.007266,121.15986 83.472059,103.5445 99.93194,90.857819 104.80056,87.157285 69.398026,91.987165 74.269,89.108297 88.06018,80.975034 152.23498,70.707052 166,70.499999 201.93833,69.959417 262.72526,96.285559 281,128.5 c -2.63947,-1.8681 -28.31614,-14.71287 -22.32269,-7.36538 17.59209,21.5665 44.46466,73.07579 40.04814,107.34534 -0.33607,4.60491 -14.8187,-18.35092 -15.40146,-13.93718 C 279.65086,242.36246 288,271.5 288,271.5 l 18.26797,56.46045 -27.21296,-23.95107 -3.74808,42.88671 -22.23955,-35.86302 -19.66135,23.35009 4.90027,-36.56595 L 232,304.5 c 10.20408,-43.79847 25.25321,-56.15504 26,-103.5 -5.01043,19.07776 -7.27033,37.6054 -18.42152,57.91131 14.74041,-67.48474 11.75134,-81.29782 -8.03578,-108.45957 2.77561,13.27177 -2.40549,22.56519 -4.39991,33.45194 0.28965,-25.23462 -6.91236,-37.26568 -14.68911,-50.3435 6.66767,15.70729 -1.54576,26.92808 -3.16586,36.71553 1.95259,-25.95776 -10.78875,-33.54809 -18.57506,-47.33221 8.6468,14.20244 6.69128,37.52535 -4.64539,55.72448 C 193.0698,147.31458 181.21348,132.50067 169,118 z",
          "iris1":"m 112.74444,196.69357 c -4.24502,6.83914 7.56645,24.93165 20.90774,22.53836 20.97313,-3.76237 11.13643,-34.26129 3.38796,-35.06072 -17.06405,0.87855 -13.09446,1.30515 -24.2957,12.52236 z",
          "iris2":"m 224.84857,196.43892 c 4.24502,6.83914 -7.56645,24.93165 -20.90774,22.53836 -20.97313,-3.76237 -11.13643,-34.26129 -3.38796,-35.06072 17.06405,0.87855 13.09446,1.30515 24.2957,12.52236 z",
          "big reflect1":"m 143.33081,201 c 0,7.31777 -4.28948,13.25 -9.58081,13.25 -5.29133,0 -9.58081,-5.93223 -9.58081,-13.25 0,-7.31777 4.28948,-13.25 9.58081,-13.25 5.29133,0 9.58081,5.93223 9.58081,13.25 z",
          "big reflect2":"m 221.81966,200.87868 c 0,7.31777 -4.28948,13.25 -9.58081,13.25 -5.29133,0 -9.58081,-5.93223 -9.58081,-13.25 0,-7.31777 4.28948,-13.25 9.58081,-13.25 5.29133,0 9.58081,5.93223 9.58081,13.25 z",
          "small reflect1":"m 120.99843,209.09398 c 0,2.30539 -0.63444,2.94043 -1.82957,2.94043 -1.19511,0 -2.49835,-0.63504 -2.49835,-2.94043 0,-2.3054 0.96884,-3.1167 2.16396,-3.1167 1.19512,0 2.16396,0.8113 2.16396,3.1167 z",
          "small reflect2":"m 194.84109,208.69414 c 0,2.30495 0.64383,2.93986 1.85663,2.93986 1.2128,0 2.53533,-0.63491 2.53533,-2.93986 0,-2.30494 -0.98318,-3.11609 -2.19598,-3.11609 -1.2128,0 -2.19598,0.81115 -2.19598,3.11609 z",
          "nose":"m 164,208.5 c 1.93134,9.6495 1.92236,16.43892 -4,26.5 4.70452,2.97344 8.95711,2.019 11,1"};

var paper = Raphael(10, 50, 350, 500);

var faceAnimation = function(p) {
  var h = paper.path(happy[p]);
  attr(h, colors[p]);
  var sad2happy = function() {
    h.attr({path:sad[p]});
    var toHappy = Raphael.animation({path:happy[p]}, 1500);
    h.animate(toHappy.delay(1000));
  }
  var happy2sad = function() {
    var toSad = Raphael.animation({path:sad[p]}, 1500, sad2happy);
    h.animate(toSad.delay(500));
  }
  happy2sad()
}

for (var i=0; i<pieces.length; i++) {
  var p = pieces[i];
  faceAnimation(p);
}

/*
function intermediate(from, to, pos) {
  var fromCurve = Raphael.path2curve(from);
  var toCurve = Raphael.path2curve(to);
  var diff = [];
  var attr = "path";
  //compute difference between paths and store in diff
  for (i = 0, ii = fromCurve.length; i < ii; i++) {
    diff[i] = [0];
    for (var j = 1, jj = fromCurve[i].length; j < jj; j++) {
      diff[i][j] = (toCurve[i][j] - fromCurve[i][j]);
    }
  }
  var S = " ";
  now = [];
  //compute new path string for intermediate image
  for (var i = 0, ii = fromCurve.length; i < ii; i++) {
    now[i] = [fromCurve[i][0]];
    for (var j = 1, jj = fromCurve[i].length; j < jj; j++) {
      now[i][j] = +fromCurve[i][j] + pos * diff[i][j];
    }
    now[i] = now[i].join(S);
  }
  return now.join(S);
}
*/
</script>

</body>
